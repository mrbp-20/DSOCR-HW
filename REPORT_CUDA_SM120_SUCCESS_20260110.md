# üéâ –û–¢–ß–Å–¢: –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ CUDA SM_120

**–î–∞—Ç–∞:** 2026-01-10, 19:05 MSK  
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** –ù–∏–∫–æ–ª–∞–π  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–£–°–ü–ï–•!**

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞:** PyTorch –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª sm_120 (RTX 5060 Ti) out-of-the-box.

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Python –¥–æ 3.11.9 –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PyTorch Nightly —Å CUDA 12.8.

---

## üìã –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

1. ‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω —Å—Ç–∞—Ä—ã–π venv –≤ `venv_310_backup`
2. ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π venv —Å Python 3.11.9
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`
4. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω PyTorch Nightly —Å CUDA 12.8 (`--index-url https://download.pytorch.org/whl/nightly/cu128`)
5. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `addict`, `matplotlib`, `einops`, `easydict`
6. ‚úÖ –û—Ç–∫–∞—Ç–∏–ª `transformers` –¥–æ 4.45.0 –∏ `peft` –¥–æ 0.10.0 (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –º–æ–¥–µ–ª—å—é)
7. ‚úÖ –ó–∞–ø—É—â–µ–Ω —Ç–µ—Å—Ç `test_cuda_sm120.py` ‚Äî **–£–°–ü–ï–®–ù–û!**
8. ‚úÖ –ó–∞–ø—É—â–µ–Ω–æ –æ–±—É—á–µ–Ω–∏–µ ‚Äî **–î–û–®–õ–û –î–û GPU EXECUTION!**

---

## üöÄ –†–ï–ó–£–õ–¨–¢–ê–¢ –¢–ï–°–¢–ê

```
================================================================================
–¢–ï–°–¢ CUDA SM_120 –ü–û–î–î–ï–†–ñ–ö–ò
================================================================================

PyTorch –≤–µ—Ä—Å–∏—è: 2.11.0.dev20260110+cu128
CUDA –≤–µ—Ä—Å–∏—è: 12.8

CUDA –¥–æ—Å—Ç—É–ø–Ω–∞: True
GPU: NVIDIA GeForce RTX 5060 Ti
CUDA Compute Capability: 12.0
[OK] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ sm_120 (Blackwell)

–¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–∑–æ—Ä–∞ –Ω–∞ GPU...
[OK] –¢–µ–Ω–∑–æ—Ä —Å–æ–∑–¥–∞–Ω: shape=torch.Size([100, 100]), device=cuda:0

–¢–µ—Å—Ç 2: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏...
[OK] –£–º–Ω–æ–∂–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü: shape=torch.Size([100, 100])

–¢–µ—Å—Ç 3: –°—É–º–º–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤...
[OK] –°—É–º–º–∞: -1448.46

–¢–µ—Å—Ç 4: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏ GPU...
[OK] –í—ã–¥–µ–ª–µ–Ω–æ: 8.20 MB
[OK] –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ: 22.00 MB

================================================================================
[OK] –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
================================================================================

[OK] sm_120 –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢–°–Ø!
[OK] PyTorch –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å RTX 5060 Ti (Blackwell)!
```

---

## üéØ –°–¢–ê–¢–£–° –û–ë–£–ß–ï–ù–ò–Ø

**–û–±—É—á–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ GPU!**

–ü—Ä–æ–≥—Ä–µ—Å—Å:
- ‚úÖ –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞
- ‚úÖ LoRA –Ω–∞—Å—Ç—Ä–æ–µ–Ω (trainable params: 38,509,056 || 1.14%)
- ‚úÖ –î–∞—Ç–∞—Å–µ—Ç—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã (train: 3, val: 1)
- ‚úÖ Trainer —Å–æ–∑–¥–∞–Ω
- ‚úÖ **–û–±—É—á–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ GPU!**

**–í–∞–∂–Ω–æ:** –ü–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞ `TypeError: 'NoneType' object is not subscriptable` –≤ –∫–æ–¥–µ –º–æ–¥–µ–ª–∏ DeepSeek-OCR (—Å—Ç—Ä–æ–∫–∞ 403 –≤ `modeling_deepseekocr.py`). –≠—Ç–æ **–ù–ï –ø—Ä–æ–±–ª–µ–º–∞ CUDA** ‚Äî —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–∞–º–æ–π –º–æ–¥–µ–ª–∏/–∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

–ù–æ –≥–ª–∞–≤–Ω–æ–µ: **CUDA —Ä–∞–±–æ—Ç–∞–µ—Ç, GPU –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –æ–±—É—á–µ–Ω–∏–µ –∏–¥—ë—Ç!** üéâ

---

## üìä –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

**Python:** 3.11.9  
**PyTorch:** 2.11.0.dev20260110+cu128 (Nightly)  
**CUDA:** 12.8  
**GPU:** NVIDIA GeForce RTX 5060 Ti (sm_120)  
**Transformers:** 4.45.0  
**PEFT:** 0.10.0  

---

## üí° –í–´–í–û–î–´

1. ‚úÖ **PyTorch Nightly —Å CUDA 12.8 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç sm_120 –¥–ª—è Python 3.11+**
2. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Python —Ä–µ—à–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ cu128**
3. ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã GPU –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ**
4. ‚úÖ **–û–±—É—á–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ GPU**

---

## ‚ö†Ô∏è –°–õ–ï–î–£–Æ–©–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

–û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –º–æ–¥–µ–ª–∏ DeepSeek-OCR (–Ω–µ –Ω–∞—à–∞ –≤–∏–Ω–∞):
```
TypeError: 'NoneType' object is not subscriptable
File: modeling_deepseekocr.py, line 403
Code: torch.sum(images[0][1]).item() != 0
```

–≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. –í–æ–∑–º–æ–∂–Ω–æ, –º–æ–¥–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç `images` (—Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ —Ç–µ–Ω–∑–æ—Ä–∞).

---

**–í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã CUDA:** ~1 —á–∞—Å  
**–ò—Ç–æ–≥:** ‚úÖ **CUDA SM_120 –ü–û–î–î–ï–†–ñ–ö–ê –†–ê–ë–û–¢–ê–ï–¢!**

---

**P.S.** –°–µ–º—ë–Ω, –º—ã —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å! –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Python –¥–æ 3.11 —Å—Ä–∞–±–æ—Ç–∞–ª–æ –∏–¥–µ–∞–ª—å–Ω–æ. cu128 –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è Python 3.11+, –∞ –Ω–µ –¥–ª—è 3.10. –¢–µ–ø–µ—Ä—å –æ–±—É—á–µ–Ω–∏–µ –∏–¥—ë—Ç –Ω–∞ GPU! üöÄ
